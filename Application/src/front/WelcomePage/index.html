<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>SuperHeroes</title>
    <link rel="stylesheet" href="/front/WelcomePage/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
<header>
    <nav class="navbar">
        <a href="/home" class="nav-logo">
            <h2 class="logo-text">SuperHeroes</h2>
        </a>

        <i id="menu-close-button" class='bx bx-x-circle'></i>
        <ul class="nav-menu">
            <li class="nav-item" id="profile">
                <a href="/profile" class="nav-link">Profile</a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link">vedem</a>
            </li>
            <li class="nav-item">
                <a href="/aboutus" class="nav-link">About</a>
            </li>
            <li class="nav-item" id="logout">
                <a href="/home" class="nav-link" id="logout-btn">Logout</a>
            </li>
        </ul>
        <i id="menu-open-button" class='bx bx-menu'></i>
    </nav>
</header>
<main>
    <section class="hero-section">
        <div class="section-content">
            <div class="hero-details">
                <h2 class="title">Welcome!</h2>
                <h3 class="subtitle">The game of SuperHeroes</h3>
                <div class="buttons">
                    <a href="/login" class="button login">Login</a>
                    <a href="/register" class="button register">Register</a>
                    <a href="/game" class="button play" style="display: none;">Play</a>
                </div>
            </div>
            <div class="hero-image-wrapper">
                <img src="#" alt="" class="hero-image">
            </div>
        </div>
    </section>
</main>
<script>
    const menuOpenButton = document.querySelector("#menu-open-button");
    const menuCloseButton = document.querySelector("#menu-close-button");
    console.log("aici");
    menuOpenButton.addEventListener("click", () => {
        document.body.classList.toggle("show-mobile-menu");
    })

    menuCloseButton.addEventListener("click", () => menuOpenButton.click());

    const token = localStorage.getItem("token");
    if(token==null){
        document.getElementById("profile").style.display = "none";
        document.getElementById("logout").style.display = "none";
    }

    document.addEventListener("DOMContentLoaded", () => {
        const token = localStorage.getItem("token");
        console.log("functie");
        console.log(token);
        const loginBtn = document.querySelector(".button.login");
        const registerBtn = document.querySelector(".button.register");
        const playBtn = document.querySelector(".button.play");
        const profileNav = document.getElementById("profile-nav");

        if (token) {
            console.log("cu token");
            if (loginBtn) loginBtn.style.display = "none";
            if (registerBtn) registerBtn.style.display = "none";
            if (playBtn) playBtn.style.display = "inline-block";
        } else {
            console.log("fara token");
            if (playBtn) playBtn.style.display = "none";
            if (profileNav) profileNav.style.display = "none";
        }
    });
    document.getElementById('logout-btn').addEventListener('click', function (event) {
        event.preventDefault();
        localStorage.removeItem('token');
        window.location.href = '/home';
    });

 </script>
</body>
</html>

